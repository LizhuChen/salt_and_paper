<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Hello OpenCV_10627114.js</title>
</head>
<body>
<h2>Hello OpenCV_10627114.js</h2>
<div>
  <div class="inputoutput">
    <img id="imageSrc" alt="No Image" />
    <div class="caption">imageSrc <input type="file" id="fileInput" name="file" /></div>
	<canvas id="outputCanvas"></canvas>
  </div>
</div>
<script type="text/javascript">
let imgElement = document.getElementById("imageSrc")
let inputElement = document.getElementById("fileInput");
inputElement.addEventListener("change", (e) => {
  imgElement.src = URL.createObjectURL(e.target.files[0]);
}, false);


imgElement.onload = function() {
  let mat = cv.imread(imgElement);
  var img = new Image();
  img.src = imgElement.src;
  
  console.log( "width = "+ img.width + "  height = "+ img.height   ) ;

  for(i = 0 ; i < 500 ; i++ ){
	var row = Math.floor(Math.random()*img.width);
	var col = Math.floor(Math.random()*img.height);

/*
	let pixel = mat.ucharPtr(row,col);
	let R = pixel[0];
	let G = pixel[1];
	let B = pixel[2];
	console.log("row = "+ row +" ,col = " + col + "R = "+ R +" ,G = " + G + " ,B = " + B ) ;
*/	
	mat.ucharPtr(row, col)[0] = 255 ;
	mat.ucharPtr(row, col)[1] = 0 ;
	mat.ucharPtr(row, col)[2] = 0 ;
  }
  

  
  
  cv.imshow("outputCanvas", mat);
}

</script>

<script src="opencv.js" type="text/javascript"></script>

</body>
</html>
